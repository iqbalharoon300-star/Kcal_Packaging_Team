<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>KPS â€¢ Attendance</title>
  <link rel="stylesheet" href="style.css"/>
  <script src="app.js" defer></script>
</head>
<body data-page="attendance">
  <header class="top-nav">
    <div class="nav-left">
      <img src="./assets/logo.png" class="nav-logo" alt="logo"/>
      <div class="brand"><div class="brand-title">Attendance</div><div class="brand-sub">Staff hours & overtime</div></div>
    </div>
    <nav class="nav-links">
      <a href="dashboard.html">Dashboard</a>
      <a class="active" href="attendance.html">Attendance</a>
      <a id="nav-employees-link" href="employees.html">Employees</a>
      <a href="overtime.html">Overtime</a>
      <a href="notifications.html">Notifications</a>
      <a href="profile.html" onclick="localStorage.removeItem('kps_profile_view_uid')">Profile</a>
      <a href="#" data-logout>Logout</a>
    </nav>
    <div class="nav-user">
      <div id="user-avatar-initials" class="avatar">HI</div>
      <div class="user-meta">
        <div id="user-name" class="user-name">â€”</div>
        <div id="user-role" class="user-role">â€”</div>
      </div>
    </div>
  </header>

  <main class="page">
    <section class="attendance-controls">
      <h2>Attendance Control</h2>
      <div class="buttons">
        <button id="checkin-btn" class="btn btn-primary">ðŸ•’ Check In</button>
        <button id="checkout-btn" class="btn btn-secondary">âœ… Check Out</button>
      </div>
      <div class="today-strip">
        <div><b>Today:</b> <span id="today-date-label">â€”</span></div>
        <div>IN: <span id="today-in">--:--</span></div>
        <div>OUT: <span id="today-out">--:--</span></div>
        <div>Duty: <span id="today-duty">0.00 hr</span></div>
        <div>OT: <span id="today-ot">0.00 hr</span></div>
        <div>Status: <span id="today-status">â€”</span></div>
      </div>
    </section>

    <section class="panel">
      <div class="panel-title">Attendance Records</div>
      <div class="table-container">
        <table class="data-table">
          <thead>
          <tr>
            <th>UID</th><th>Name</th><th>Date</th><th>IN</th><th>OUT</th><th>Duty</th><th>OT</th><th>Status</th><th>Action</th>
          </tr>
          </thead>
          <tbody id="attendance-tbody"></tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- Edit Attendance Modal -->
  <div class="modal" id="edit-attendance-modal">
    <div class="modal-box">
      <div class="modal-header">
        <h2>Edit Attendance</h2>
        <button id="close-edit-modal" class="modal-close">Ã—</button>
      </div>
      <form id="edit-attendance-form" class="modal-form">
        <div class="form-grid">
          <div class="form-group"><label>Employee UID</label><input id="edit-uid" type="text" readonly></div>
          <div class="form-group"><label>Date</label><input id="edit-date" type="text" readonly></div>
          <div class="form-group"><label>Check-IN</label><input id="edit-in" type="time" required></div>
          <div class="form-group"><label>Check-OUT</label><input id="edit-out" type="time" required></div>
        </div>
        <button type="submit" class="btn-save">Save Changes</button>
      </form>
    </div>
  </div>
</body>
</html>
